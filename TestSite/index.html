<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Cricket Nets Scenarios</title>

<style>
/* ——— STYLES UNCHANGED FROM PREVIOUS VERSION ——— */
html, body {
    margin: 0;
    padding: 0;
    height: 100%;
    overflow: hidden;
    font-family: Arial, sans-serif;
    background: linear-gradient(to bottom, #000000 0%, #003300 100%);
    color: white;
}

#app {
    height: calc(100vh - 50px);
    display: flex;
    flex-direction: column;
    justify-content: space-evenly;
    align-items: center;
    text-align: center;
    padding: 5px 0;
    box-sizing: border-box;
}

h1 {
    font-size: 7vw;
    color: #00eaff;
    text-shadow: 0 0 12px #00eaff, 0 0 25px #00eaff;
    margin: 0;
    animation: pulse 2.5s infinite ease-in-out;
}

@keyframes pulse {
    0% { text-shadow: 0 0 10px #00eaff; }
    50% { text-shadow: 0 0 25px #00eaff; }
    100% { text-shadow: 0 0 10px #00eaff; }
}

.sectionLabel {
    font-size: 5vw;
    color: #88ff88;
    text-shadow: 0 0 8px #00ff55;
    margin-bottom: 5px;
}

#matchRow {
    display: flex;
    justify-content: center;
    gap: 3vw;
    width: 90vw;
}

.pillBtn {
    flex: 1;
    padding: 1.6vh 0;
    font-size: 4.5vw;
    border: none;
    border-radius: 50px;
    background: #111;
    color: white;
    cursor: pointer;
    box-shadow: 0 0 10px #00eaff inset, 0 0 10px #00eaff;
    transition: 0.15s;
}

.pillBtn.selected {
    background: #00aaff;
    box-shadow: 0 0 15px #00eaff inset, 0 0 20px #00eaff;
}

.btn {
    width: 85vw;
    padding: 1.8vh 0;
    font-size: 5vw;
    border: none;
    border-radius: 12px;
    background: #111;
    color: white;
    cursor: pointer;
    box-shadow: 0 0 12px #00eaff inset, 0 0 12px #00eaff;
    transition: 0.15s;
    margin: 5px 0;
}

.btn.selected {
    background: #00aaff;
    box-shadow: 0 0 18px #00eaff inset, 0 0 22px #00eaff;
}

#bowlGrid {
    width: 90vw;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 5px;
}

.btnSmall {
    padding: 1.8vh 0;
    font-size: 4.8vw;
    border: none;
    border-radius: 12px;
    background: #111;
    color: white;
    cursor: pointer;
    box-shadow: 0 0 12px #00eaff inset, 0 0 12px #00eaff;
    transition: 0.15s;
}

.btnSmall.selected {
    background: #00aaff;
    box-shadow: 0 0 18px #00eaff inset, 0 0 22px #00eaff;
}

.btnRed {
    background: #aa0000;
    box-shadow: 0 0 14px #ff4444 inset, 0 0 18px #ff4444;
}

#scenarioBox {
    width: 90vw;
    min-height: 20vh;
    max-height: 28vh;
    overflow-y: auto;
    background: #222;
    border-radius: 12px;
    padding: 20px;
    font-size: 4.8vw;
    line-height: 1.45;
    box-shadow: 0 0 10px #444 inset;
    opacity: 0;
    transition: opacity 0.4s ease-in-out;
}

#adBanner {
    width: 100%;
    height: 50px;
    background: #111;
    opacity: 0.8;
    font-size: 3.5vw;
    text-align: center;
    line-height: 50px;
    position: absolute;
    bottom: 0;
    left: 0;
}
</style>
</head>

<body>

<div id="app">

    <h1>Cricket Nets Scenarios</h1>

    <div class="sectionLabel">Match Type</div>

    <div id="matchRow">
        <button class="pillBtn" onclick="selectFormat('test')">Test</button>
        <button class="pillBtn" onclick="selectFormat('odi')">One Day</button>
        <button class="pillBtn" onclick="selectFormat('t20')">T20</button>
    </div>

    <div class="sectionLabel">Choose Your Situation</div>

    <button class="btn" onclick="selectRole('batting')">Batting</button>

    <div id="bowlGrid">
        <button class="btnSmall" onclick="selectRole('fast')">Fast Bowl</button>
        <button class="btnSmall" onclick="selectRole('swing')">Swing Bowl</button>
        <button class="btnSmall" onclick="selectRole('offspin')">Offspin</button>
        <button class="btnSmall" onclick="selectRole('legspin')">Legspin</button>
    </div>

    <div class="sectionLabel">Generate Scenario</div>
    <button class="btn btnRed" onclick="generateScenario()">Generate Scenario</button>

    <div id="scenarioBox">Your scenario will appear here.</div>

</div>

<div id="adBanner">Ad banner goes here</div>

<script>
/* ——— KEEP SCREEN AWAKE ——— */
let wakeLock;
async function keepAwake() {
    try { wakeLock = await navigator.wakeLock.request('screen'); }
    catch (err) { console.log("Wake lock not supported", err); }
}
document.addEventListener("click", keepAwake);

/* ——— SPEECH SYNTHESIS ——— */
function speak(text) {
    const utter = new SpeechSynthesisUtterance(text);
    utter.rate = 1;
    utter.pitch = 1;
    utter.volume = 1;

    const voices = speechSynthesis.getVoices();
    const preferred = voices.find(v =>
        v.name.toLowerCase().includes("male") ||
        v.name.toLowerCase().includes("deep") ||
        v.name.toLowerCase().includes("english")
    );
    if (preferred) utter.voice = preferred;

    speechSynthesis.cancel();
    speechSynthesis.speak(utter);
}

/* ——— FORMAT-AWARE SCENARIOS ——— */
const scenarios = {
    test: {
        batting: [
            "Day 3, ball reversing. Play late and straight.",
            "Leave anything outside off stump. Grind the bowler down.",
            "The field is tight. Work singles and stay patient."
        ],
        fast: [
            "Hit the top of off for long spells. Build pressure.",
            "Bowl a tight channel and wait for the mistake.",
            "Use subtle seam movement rather than pace."
        ],
        swing: [
            "Overcast. Pitch it up and let it swing.",
            "Set the batter up with outswing, then bring one back in.",
            "Bowl full and challenge the forward defence."
        ],
        offspin: [
            "Bowl outside off and tempt the forward defence.",
            "Attack the pads with a close field.",
            "Vary your flight to draw the batter forward."
        ],
        legspin: [
            "Toss it up and look for drift. Patience is key.",
            "Bowl your stock ball and build pressure.",
            "Use subtle variations rather than big turn."
        ]
    },

    odi: {
        batting: [
            "Rotate strike, punish anything short.",
            "Look for gaps and keep the scoreboard moving.",
            "Target the weaker bowler in the over."
        ],
        fast: [
            "Hit hard lengths and protect the boundary.",
            "Use the short ball sparingly to surprise the batter.",
            "Cross-seam deliveries to disrupt timing."
        ],
        swing: [
            "Pitch it up early, then go cross‑seam later.",
            "Shape it away, then bowl the wobble seam.",
            "Use subtle changes of length."
        ],
        offspin: [
            "Bowl tight lines and force the batter to take risks.",
            "Vary your pace to disrupt rhythm.",
            "Bowl into the pitch to limit scoring."
        ],
        legspin: [
            "Use googlies to create doubt.",
            "Bowl wider to force the big shot to the long boundary.",
            "Mix up your pace to break rhythm."
        ]
    },

    t20: {
        batting: [
            "Powerplay. Field is up. Target straight boundaries.",
            "Death overs. Look for yorkers to hit.",
            "Pick your matchup and attack."
        ],
        fast: [
            "Mix yorkers and slower balls.",
            "Bowl wide lines to force the batter to reach.",
            "Use cutters into the pitch."
        ],
        swing: [
            "Fuller lengths early to maximise movement.",
            "Use late swing to attack the stumps.",
            "Wide yorkers with swing to limit hitting zones."
        ],
        offspin: [
            "Bowl into the pitch and vary your pace.",
            "Wide lines outside off to restrict hitting zones.",
            "Use the arm ball sparingly."
        ],
        legspin: [
            "Big leg‑breaks to force mishits.",
            "Slower, loopier balls to tempt the slog.",
            "Use the googly as your surprise weapon."
        ]
    }
};

/* ——— SELECTION LOGIC ——— */
let selectedFormat = null;
let selectedRole = null;

function selectFormat(format) {
    selectedFormat = format;
    highlightButtons();
}

function selectRole(role) {
    selectedRole = role;
    highlightButtons();
}

function highlightButtons() {
    document.querySelectorAll('.btn, .btnSmall, .pillBtn')
        .forEach(btn => btn.classList.remove('selected'));

    if (selectedFormat)
        document.querySelector(`[onclick="selectFormat('${selectedFormat}')"]`)
            .classList.add('selected');

    if (selectedRole)
        document.querySelector(`[onclick="selectRole('${selectedRole}')"]`)
            .classList.add('selected');
}

/* ——— GENERATE SCENARIO ——— */
function generateScenario() {
    const box = document.getElementById("scenarioBox");
    box.style.opacity = 0;

    setTimeout(() => {
        if (!selectedFormat) {
            box.innerText = "Please select a match format.";
            box.style.opacity = 1;
            speak("Please select a match format.");
            return;
        }

        if (!selectedRole) {
            box.innerText = "Please select a role.";
            box.style.opacity = 1;
            speak("Please select a role.");
            return;
        }

        const list = scenarios[selectedFormat][selectedRole];
        const scenario = list[Math.floor(Math.random() * list.length)];

        box.innerText = scenario;
        box.style.opacity = 1;
        speak(scenario);
    }, 200);
}
</script>

</body>
</html>
