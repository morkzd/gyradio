<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Nets Duel – Kids Edition</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
    html, body {
        margin: 0;
        padding: 0;
        height: 100%;
        font-family: Arial, sans-serif;
        background: radial-gradient(circle at top, #003300 0%, #000000 55%, #000000 100%);
        color: #eaffff;
    }

    #app {
        height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        box-sizing: border-box;
        padding: 10px;
    }

    h1 {
        font-size: 7vw;
        color: #00eaff;
        text-shadow: 0 0 12px #00eaff, 0 0 25px #00eaff;
        margin: 5px 0 15px 0;
        text-align: center;
    }

    .screen {
        width: 100%;
        max-width: 480px;
        box-sizing: border-box;
    }

    .hidden {
        display: none;
    }

    .sectionLabel {
        font-size: 4.5vw;
        color: #88ff88;
        text-shadow: 0 0 8px #00ff55;
        margin: 10px 0 5px 0;
        text-align: center;
    }

    .pillBtn, .btn {
        border: none;
        cursor: pointer;
        transition: 0.15s;
        color: white;
        background: #111;
        box-shadow: 0 0 12px #00eaff inset, 0 0 12px #00eaff;
        border-radius: 999px;
        padding: 10px 16px;
        font-size: 4.2vw;
        width: 100%;
        margin-top: 10px;
    }

    .btn {
        border-radius: 10px;
        font-size: 4vw;
    }

    .pillBtn:active, .btn:active {
        transform: scale(0.97);
        box-shadow: 0 0 18px #00eaff inset, 0 0 22px #00eaff;
    }

    .inputRow {
        display: flex;
        gap: 8px;
        margin: 5px 0;
    }

    .inputRow input {
        flex: 1;
        padding: 8px;
        border-radius: 8px;
        border: 1px solid #00eaff;
        background: #020b0b;
        color: #eaffff;
        font-size: 4vw;
        box-shadow: 0 0 6px #003344 inset;
    }

    .smallLabel {
        font-size: 3.4vw;
        opacity: 0.8;
        margin-top: 4px;
    }

    /* GAME AREA */

    #gameAreaWrapper {
        width: 100%;
        max-width: 480px;
        aspect-ratio: 9 / 16;
        position: relative;
        border-radius: 20px;
        background: linear-gradient(to bottom, #001a00 0%, #000000 100%);
        box-shadow: 0 0 18px #00eaff;
        overflow: hidden;
        margin: 0 auto;
    }

    #gameArea {
        position: absolute;
        inset: 0;
    }

    .zone {
        position: absolute;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(255,255,255,0.3);
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 3vw;
        text-align: center;
        color: #000;
        font-weight: bold;
        user-select: none;
    }

    /* Colours alternate yellow / blue */
    .zone.yellow {
        background: #ffe066;
        box-shadow: 0 0 12px #ffe066;
    }

    .zone.blue {
        background: #4da6ff;
        box-shadow: 0 0 12px #4da6ff;
    }

    .zone.flash {
        animation: flash 0.25s ease-out;
    }

    @keyframes flash {
        0% { transform: scale(1); opacity: 1; }
        50% { transform: scale(0.96); opacity: 0.7; }
        100% { transform: scale(1); opacity: 1; }
    }

    /* Layout of zones (phone as nets) */

    /* Top two slender rectangles (behind stumps) */
    #zoneTopOff {
        top: 2%;
        left: 5%;
        width: 42%;
        height: 8%;
    }
    #zoneTopLeg {
        top: 2%;
        right: 5%;
        width: 42%;
        height: 8%;
    }

    /* Left side – 3 zones */
    #zoneLeft1 {
        top: 14%;
        left: 2%;
        width: 18%;
        height: 18%;
    }
    #zoneLeft2 {
        top: 34%;
        left: 2%;
        width: 18%;
        height: 18%;
    }
    #zoneLeft3 {
        top: 54%;
        left: 2%;
        width: 18%;
        height: 18%;
    }

    /* Right side – 3 zones */
    #zoneRight1 {
        top: 14%;
        right: 2%;
        width: 18%;
        height: 18%;
    }
    #zoneRight2 {
        top: 34%;
        right: 2%;
        width: 18%;
        height: 18%;
    }
    #zoneRight3 {
        top: 54%;
        right: 2%;
        width: 18%;
        height: 18%;
    }

    /* Bottom – one big rectangle (in front) */
    #zoneBottom {
        bottom: 3%;
        left: 10%;
        width: 80%;
        height: 14%;
    }

    /* Info panel in the middle */
    #infoPanel {
        position: absolute;
        top: 20%;
        left: 22%;
        width: 56%;
        height: 50%;
        border-radius: 16px;
        background: rgba(0, 0, 0, 0.75);
        box-shadow: 0 0 14px #003344 inset;
        padding: 10px;
        box-sizing: border-box;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        color: #eaffff;
        text-align: center;
    }

    #infoPlayer {
        font-size: 4.2vw;
        color: #00eaff;
        text-shadow: 0 0 8px #00eaff;
    }

    #infoBalls, #infoScore {
        font-size: 3.6vw;
        margin-top: 4px;
    }

    #infoLast {
        font-size: 3.4vw;
        margin-top: 8px;
        line-height: 1.4;
    }

    #softHardHint {
        font-size: 3.2vw;
        opacity: 0.8;
        margin-top: 6px;
    }

    #nextPlayerBtn {
        margin-top: 8px;
        font-size: 3.4vw;
        padding: 6px 10px;
    }

    #scoreLog {
        margin-top: 10px;
        font-size: 3.4vw;
        max-height: 20vh;
        overflow-y: auto;
    }

    #scoreLog div {
        margin-bottom: 4px;
    }
</style>
</head>
<body>

<div id="app">
    <h1>Nets Duel</h1>

    <!-- SETUP SCREEN -->
    <div id="setupScreen" class="screen">
        <div class="sectionLabel">Players</div>
        <div class="smallLabel" style="text-align:center;">
            Enter 3 or more names (or leave some blank).
        </div>

        <div class="inputRow">
            <input id="p1" placeholder="Player 1 (bats first)">
        </div>
        <div class="inputRow">
            <input id="p2" placeholder="Player 2">
        </div>
        <div class="inputRow">
            <input id="p3" placeholder="Player 3">
        </div>
        <div class="inputRow">
            <input id="p4" placeholder="Player 4 (optional)">
        </div>
        <div class="inputRow">
            <input id="p5" placeholder="Player 5 (optional)">
        </div>

        <div class="sectionLabel">Balls per player</div>
        <div class="inputRow">
            <input id="ballsInput" type="number" min="6" max="60" value="30">
        </div>
        <div class="smallLabel" style="text-align:center;">
            Default is 30 balls each.
        </div>

        <button class="pillBtn" onclick="startGame()">Start Nets Duel</button>
    </div>

    <!-- GAME SCREEN -->
    <div id="gameScreen" class="screen hidden">
        <div id="gameAreaWrapper">
            <div id="gameArea">
                <!-- Zones -->
                <div id="zoneTopOff" class="zone yellow" data-zone="topOff">OFF BACK</div>
                <div id="zoneTopLeg" class="zone blue" data-zone="topLeg">LEG BACK</div>

                <div id="zoneLeft1" class="zone blue" data-zone="left1">LEFT 1</div>
                <div id="zoneLeft2" class="zone yellow" data-zone="left2">LEFT 2</div>
                <div id="zoneLeft3" class="zone blue" data-zone="left3">LEFT 3</div>

                <div id="zoneRight1" class="zone yellow" data-zone="right1">RIGHT 1</div>
                <div id="zoneRight2" class="zone blue" data-zone="right2">RIGHT 2</div>
                <div id="zoneRight3" class="zone yellow" data-zone="right3">RIGHT 3</div>

                <div id="zoneBottom" class="zone blue" data-zone="bottom">STRAIGHT</div>

                <!-- Info panel -->
                <div id="infoPanel">
                    <div id="infoPlayer">Player</div>
                    <div id="infoBalls">Balls: 30</div>
                    <div id="infoScore">Score: 0</div>
                    <div id="infoLast">Tap where the ball went.</div>
                    <div id="softHardHint">
                        After tapping a zone, choose soft or hard shot.
                    </div>
                    <button id="nextPlayerBtn" class="btn" onclick="nextPlayer()" style="display:none;">
                        Next Player
                    </button>
                </div>
            </div>
        </div>

        <div id="scoreLog"></div>
    </div>
</div>

<script>
/* STATE */
let players = [];
let currentPlayerIndex = 0;
let ballsPerPlayer = 30;
let ballsLeft = 0;
let currentScore = 0;

/* START GAME */
function startGame() {
    const names = [
        document.getElementById("p1").value.trim() || "Player 1",
        document.getElementById("p2").value.trim(),
        document.getElementById("p3").value.trim(),
        document.getElementById("p4").value.trim(),
        document.getElementById("p5").value.trim()
    ].filter(n => n && n.length > 0);

    if (names.length < 2) {
        alert("Please enter at least 2 player names.");
        return;
    }

    players = names;
    const ballsInput = parseInt(document.getElementById("ballsInput").value, 10);
    ballsPerPlayer = (!isNaN(ballsInput) && ballsInput > 0) ? ballsInput : 30;

    document.getElementById("setupScreen").classList.add("hidden");
    document.getElementById("gameScreen").classList.remove("hidden");

    currentPlayerIndex = 0;
    startPlayerTurn();
}

/* START TURN FOR CURRENT PLAYER */
function startPlayerTurn() {
    ballsLeft = ballsPerPlayer;
    currentScore = 0;
    updateInfoPanel("Tap where the ball went.");
    document.getElementById("nextPlayerBtn").style.display = "none";
}

/* UPDATE INFO PANEL */
function updateInfoPanel(lastText) {
    const playerName = players[currentPlayerIndex];
    document.getElementById("infoPlayer").innerText = playerName;
    document.getElementById("infoBalls").innerText = "Balls: " + ballsLeft;
    document.getElementById("infoScore").innerText = "Score: " + currentScore;
    if (lastText) {
        document.getElementById("infoLast").innerText = lastText;
    }
}

/* ZONE CLICK HANDLER */
document.querySelectorAll(".zone").forEach(zone => {
    zone.addEventListener("click", () => {
        if (ballsLeft <= 0) return;

        const zoneKey = zone.getAttribute("data-zone");

        // Quick soft/hard choice: OK = hard, Cancel = soft
        const isHard = confirm("Hard shot? (OK = Hard, Cancel = Soft)");

        const outcome = getOutcome(zoneKey, isHard);
        currentScore += outcome.runs;
        ballsLeft--;

        // Flash the zone
        zone.classList.add("flash");
        setTimeout(() => zone.classList.remove("flash"), 200);

        updateInfoPanel(outcome.text);

        if (ballsLeft <= 0) {
            endPlayerTurn();
        }
    });
});

/* OUTCOME LOGIC */
function getOutcome(zoneKey, isHard) {
    // Simple example mapping – you can refine later
    // Runs + description depend on zone + soft/hard
    let runs = 0;
    let text = "";

    const playerName = players[currentPlayerIndex];
    const shotType = isHard ? "hard" : "soft";

    switch (zoneKey) {
        case "topOff":
            runs = isHard ? 4 : 1;
            text = isHard
                ? playerName + " smashes it over the keeper for 4!"
                : playerName + " dabs it fine on the off side for 1.";
            break;
        case "topLeg":
            runs = isHard ? 4 : 1;
            text = isHard
                ? playerName + " hooks it fine past leg for 4!"
                : playerName + " glances it down leg for a single.";
            break;
        case "left1":
            runs = isHard ? 6 : 2;
            text = isHard
                ? playerName + " launches a big pull shot for 6!"
                : playerName + " nudges it behind square for 2.";
            break;
        case "left2":
            runs = isHard ? 4 : 2;
            text = isHard
                ? playerName + " whips it through mid-wicket for 4!"
                : playerName + " works it into the leg side for 2.";
            break;
        case "left3":
            runs = isHard ? 3 : 1;
            text = isHard
                ? playerName + " drags it to deep leg for 3."
                : playerName + " tucks it off the pads for 1.";
            break;
        case "right1":
            runs = isHard ? 6 : 2;
            text = isHard
                ? playerName + " lofts it over point for 6!"
                : playerName + " guides it behind point for 2.";
            break;
        case "right2":
            runs = isHard ? 4 : 2;
            text = isHard
                ? playerName + " drives square through the off side for 4!"
                : playerName + " pushes it into the covers for 2.";
            break;
        case "right3":
            runs = isHard ? 3 : 1;
            text = isHard
                ? playerName + " carves it out to deep cover for 3."
                : playerName + " steers it to cover for a single.";
            break;
        case "bottom":
            runs = isHard ? 4 : 1;
            text = isHard
                ? playerName + " smashes a straight drive for 4!"
                : playerName + " blocks it back down the pitch for 1.";
            break;
        default:
            runs = 0;
            text = playerName + " lets it go. No run.";
    }

    return { runs, text };
}

/* END OF PLAYER TURN */
function endPlayerTurn() {
    const playerName = players[currentPlayerIndex];
    const log = document.getElementById("scoreLog");
    const entry = document.createElement("div");
    entry.innerText = playerName + " scored " + currentScore + " runs (" + ballsPerPlayer + " balls).";
    log.appendChild(entry);

    updateInfoPanel(playerName + "'s turn is over.");

    if (currentPlayerIndex < players.length - 1) {
        document.getElementById("nextPlayerBtn").style.display = "block";
    } else {
        document.getElementById("nextPlayerBtn").style.display = "none";
        const finalMsg = document.createElement("div");
        finalMsg.style.marginTop = "6px";
        finalMsg.innerText = "All players have finished. Play another round by refreshing.";
        log.appendChild(finalMsg);
    }
}

/* NEXT PLAYER */
function nextPlayer() {
    if (currentPlayerIndex >= players.length - 1) return;
    currentPlayerIndex++;
    startPlayerTurn();
}
</script>

</body>
</html>









